{"ast":null,"code":"import { useSyncExternalStoreWithSelector } from \"use-sync-external-store/shim/with-selector.js\";\nexport * from \"@tanstack/store\";\nfunction useStore(store, selector = d => d) {\n  const slice = useSyncExternalStoreWithSelector(store.subscribe, () => store.state, () => store.state, selector, shallow);\n  return slice;\n}\nfunction shallow(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  if (objA instanceof Map && objB instanceof Map) {\n    if (objA.size !== objB.size) return false;\n    for (const [k, v] of objA) {\n      if (!objB.has(k) || !Object.is(v, objB.get(k))) return false;\n    }\n    return true;\n  }\n  if (objA instanceof Set && objB instanceof Set) {\n    if (objA.size !== objB.size) return false;\n    for (const v of objA) {\n      if (!objB.has(v)) return false;\n    }\n    return true;\n  }\n  const keysA = Object.keys(objA);\n  if (keysA.length !== Object.keys(objB).length) {\n    return false;\n  }\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n  return true;\n}\nexport { shallow, useStore };","map":{"version":3,"names":["useStore","store","selector","d","slice","useSyncExternalStoreWithSelector","subscribe","state","shallow","objA","objB","Object","is","Map","size","k","v","has","get","Set","keysA","keys","length","i","prototype","hasOwnProperty","call"],"sources":["/Users/christineiyer/Documents/tan-stack-learning/todo-dot-ai/frontend/node_modules/@tanstack/react-store/src/index.ts"],"sourcesContent":["import { useSyncExternalStoreWithSelector } from 'use-sync-external-store/shim/with-selector.js'\nimport type { Derived, Store } from '@tanstack/store'\n\nexport * from '@tanstack/store'\n\n/**\n * @private\n */\nexport type NoInfer<T> = [T][T extends any ? 0 : never]\n\nexport function useStore<TState, TSelected = NoInfer<TState>>(\n  store: Store<TState, any>,\n  selector?: (state: NoInfer<TState>) => TSelected,\n): TSelected\nexport function useStore<TState, TSelected = NoInfer<TState>>(\n  store: Derived<TState, any>,\n  selector?: (state: NoInfer<TState>) => TSelected,\n): TSelected\nexport function useStore<TState, TSelected = NoInfer<TState>>(\n  store: Store<TState, any> | Derived<TState, any>,\n  selector: (state: NoInfer<TState>) => TSelected = (d) => d as any,\n): TSelected {\n  const slice = useSyncExternalStoreWithSelector(\n    store.subscribe,\n    () => store.state,\n    () => store.state,\n    selector,\n    shallow,\n  )\n\n  return slice\n}\n\nexport function shallow<T>(objA: T, objB: T) {\n  if (Object.is(objA, objB)) {\n    return true\n  }\n\n  if (\n    typeof objA !== 'object' ||\n    objA === null ||\n    typeof objB !== 'object' ||\n    objB === null\n  ) {\n    return false\n  }\n\n  if (objA instanceof Map && objB instanceof Map) {\n    if (objA.size !== objB.size) return false\n    for (const [k, v] of objA) {\n      if (!objB.has(k) || !Object.is(v, objB.get(k))) return false\n    }\n    return true\n  }\n\n  if (objA instanceof Set && objB instanceof Set) {\n    if (objA.size !== objB.size) return false\n    for (const v of objA) {\n      if (!objB.has(v)) return false\n    }\n    return true\n  }\n\n  const keysA = Object.keys(objA)\n  if (keysA.length !== Object.keys(objB).length) {\n    return false\n  }\n\n  for (let i = 0; i < keysA.length; i++) {\n    if (\n      !Object.prototype.hasOwnProperty.call(objB, keysA[i] as string) ||\n      !Object.is(objA[keysA[i] as keyof T], objB[keysA[i] as keyof T])\n    ) {\n      return false\n    }\n  }\n  return true\n}\n"],"mappings":";;AAkBO,SAASA,SACdC,KAAA,EACAC,QAAA,GAAmDC,CAAA,IAAMA,CAAA,EAC9C;EACX,MAAMC,KAAA,GAAQC,gCAAA,CACZJ,KAAA,CAAMK,SAAA,EACN,MAAML,KAAA,CAAMM,KAAA,EACZ,MAAMN,KAAA,CAAMM,KAAA,EACZL,QAAA,EACAM,OACF;EAEO,OAAAJ,KAAA;AACT;AAEgB,SAAAI,QAAWC,IAAA,EAASC,IAAA,EAAS;EAC3C,IAAIC,MAAA,CAAOC,EAAA,CAAGH,IAAA,EAAMC,IAAI,GAAG;IAClB;EAAA;EAIP,WAAOD,IAAA,KAAS,YAChBA,IAAA,KAAS,QACT,OAAOC,IAAA,KAAS,YAChBA,IAAA,KAAS,MACT;IACO;EAAA;EAGL,IAAAD,IAAA,YAAgBI,GAAA,IAAOH,IAAA,YAAgBG,GAAA,EAAK;IAC9C,IAAIJ,IAAA,CAAKK,IAAA,KAASJ,IAAA,CAAKI,IAAA,EAAa;IACpC,WAAW,CAACC,CAAA,EAAGC,CAAC,KAAKP,IAAA,EAAM;MACzB,IAAI,CAACC,IAAA,CAAKO,GAAA,CAAIF,CAAC,KAAK,CAACJ,MAAA,CAAOC,EAAA,CAAGI,CAAA,EAAGN,IAAA,CAAKQ,GAAA,CAAIH,CAAC,CAAC,GAAU;IAAA;IAElD;EAAA;EAGL,IAAAN,IAAA,YAAgBU,GAAA,IAAOT,IAAA,YAAgBS,GAAA,EAAK;IAC9C,IAAIV,IAAA,CAAKK,IAAA,KAASJ,IAAA,CAAKI,IAAA,EAAa;IACpC,WAAWE,CAAA,IAAKP,IAAA,EAAM;MACpB,IAAI,CAACC,IAAA,CAAKO,GAAA,CAAID,CAAC,GAAU;IAAA;IAEpB;EAAA;EAGH,MAAAI,KAAA,GAAQT,MAAA,CAAOU,IAAA,CAAKZ,IAAI;EAC9B,IAAIW,KAAA,CAAME,MAAA,KAAWX,MAAA,CAAOU,IAAA,CAAKX,IAAI,EAAEY,MAAA,EAAQ;IACtC;EAAA;EAGT,SAASC,CAAA,GAAI,GAAGA,CAAA,GAAIH,KAAA,CAAME,MAAA,EAAQC,CAAA,IAAK;IAEnC,KAACZ,MAAA,CAAOa,SAAA,CAAUC,cAAA,CAAeC,IAAA,CAAKhB,IAAA,EAAMU,KAAA,CAAMG,CAAC,CAAW,KAC9D,CAACZ,MAAA,CAAOC,EAAA,CAAGH,IAAA,CAAKW,KAAA,CAAMG,CAAC,CAAY,GAAGb,IAAA,CAAKU,KAAA,CAAMG,CAAC,CAAY,CAAC,GAC/D;MACO;IAAA;EACT;EAEK;AACT","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}