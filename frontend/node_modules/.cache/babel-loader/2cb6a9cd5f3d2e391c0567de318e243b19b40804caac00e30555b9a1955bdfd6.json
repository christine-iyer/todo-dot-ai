{"ast":null,"code":"var _jsxFileName = \"/Users/christineiyer/Documents/tan-stack-learning/todo-dot-ai/frontend/src/components/TodoList.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { fetchTodos, deleteTodo, createTodo } from '../api/todoApi';\nimport TodoItem from './TodoItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TodoList = () => {\n  _s();\n  const queryClient = useQueryClient();\n\n  // Fetch Todos\n  const {\n    data: todos = [],\n    isLoading,\n    error\n  } = useQuery(['todos'], fetchTodos);\n\n  // Mutation for deleting a Todo\n  const deleteMutation = useMutation(deleteTodo, {\n    onSuccess: () => queryClient.invalidateQueries(['todos'])\n  });\n\n  // Mutation for toggling a Todo's completion status\n  const toggleMutation = useMutation(async todo => {\n    return createTodo({\n      ...todo,\n      completed: !todo.completed\n    });\n  }, {\n    onSuccess: () => queryClient.invalidateQueries(['todos'])\n  });\n  if (isLoading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading todos...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Failed to load todos.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: todos.map(todo => /*#__PURE__*/_jsxDEV(TodoItem, {\n      id: todo._id,\n      title: todo.title,\n      completed: todo.completed,\n      onDelete: () => deleteMutation.mutate(todo._id),\n      onToggle: () => toggleMutation.mutate(todo)\n    }, todo._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(TodoList, \"mGW6Dqr/DLoWfWQ/ERFNbRVJfDY=\", false, function () {\n  return [useQueryClient, useQuery, useMutation, useMutation];\n});\n_c = TodoList;\nexport default TodoList;\nvar _c;\n$RefreshReg$(_c, \"TodoList\");","map":{"version":3,"names":["React","useQuery","useMutation","useQueryClient","fetchTodos","deleteTodo","createTodo","TodoItem","jsxDEV","_jsxDEV","TodoList","_s","queryClient","data","todos","isLoading","error","deleteMutation","onSuccess","invalidateQueries","toggleMutation","todo","completed","children","fileName","_jsxFileName","lineNumber","columnNumber","map","id","_id","title","onDelete","mutate","onToggle","_c","$RefreshReg$"],"sources":["/Users/christineiyer/Documents/tan-stack-learning/todo-dot-ai/frontend/src/components/TodoList.tsx"],"sourcesContent":["import React from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { fetchTodos, deleteTodo, createTodo } from '../api/todoApi';\nimport TodoItem from './TodoItem';\n\ninterface Todo {\n  _id: string;\n  title: string;\n  completed: boolean;\n}\n\nconst TodoList: React.FC = () => {\n  const queryClient = useQueryClient();\n\n  // Fetch Todos\n  const { data: todos = [], isLoading, error } = useQuery<Todo[]>(['todos'], fetchTodos);\n\n  // Mutation for deleting a Todo\n  const deleteMutation = useMutation(deleteTodo, {\n    onSuccess: () => queryClient.invalidateQueries(['todos']),\n  });\n\n  // Mutation for toggling a Todo's completion status\n  const toggleMutation = useMutation(\n    async (todo: Todo) => {\n      return createTodo({ ...todo, completed: !todo.completed });\n    },\n    {\n      onSuccess: () => queryClient.invalidateQueries(['todos']),\n    }\n  );\n\n  if (isLoading) return <p>Loading todos...</p>;\n  if (error) return <p>Failed to load todos.</p>;\n\n  return (\n    <div>\n      {todos.map((todo) => (\n        <TodoItem\n          key={todo._id}\n          id={todo._id}\n          title={todo.title}\n          completed={todo.completed}\n          onDelete={() => deleteMutation.mutate(todo._id)}\n          onToggle={() => toggleMutation.mutate(todo)}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default TodoList;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,WAAW,EAAEC,cAAc,QAAQ,uBAAuB;AAC7E,SAASC,UAAU,EAAEC,UAAU,EAAEC,UAAU,QAAQ,gBAAgB;AACnE,OAAOC,QAAQ,MAAM,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAQlC,MAAMC,QAAkB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC/B,MAAMC,WAAW,GAAGT,cAAc,CAAC,CAAC;;EAEpC;EACA,MAAM;IAAEU,IAAI,EAAEC,KAAK,GAAG,EAAE;IAAEC,SAAS;IAAEC;EAAM,CAAC,GAAGf,QAAQ,CAAS,CAAC,OAAO,CAAC,EAAEG,UAAU,CAAC;;EAEtF;EACA,MAAMa,cAAc,GAAGf,WAAW,CAACG,UAAU,EAAE;IAC7Ca,SAAS,EAAEA,CAAA,KAAMN,WAAW,CAACO,iBAAiB,CAAC,CAAC,OAAO,CAAC;EAC1D,CAAC,CAAC;;EAEF;EACA,MAAMC,cAAc,GAAGlB,WAAW,CAChC,MAAOmB,IAAU,IAAK;IACpB,OAAOf,UAAU,CAAC;MAAE,GAAGe,IAAI;MAAEC,SAAS,EAAE,CAACD,IAAI,CAACC;IAAU,CAAC,CAAC;EAC5D,CAAC,EACD;IACEJ,SAAS,EAAEA,CAAA,KAAMN,WAAW,CAACO,iBAAiB,CAAC,CAAC,OAAO,CAAC;EAC1D,CACF,CAAC;EAED,IAAIJ,SAAS,EAAE,oBAAON,OAAA;IAAAc,QAAA,EAAG;EAAgB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAC7C,IAAIX,KAAK,EAAE,oBAAOP,OAAA;IAAAc,QAAA,EAAG;EAAqB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAE9C,oBACElB,OAAA;IAAAc,QAAA,EACGT,KAAK,CAACc,GAAG,CAAEP,IAAI,iBACdZ,OAAA,CAACF,QAAQ;MAEPsB,EAAE,EAAER,IAAI,CAACS,GAAI;MACbC,KAAK,EAAEV,IAAI,CAACU,KAAM;MAClBT,SAAS,EAAED,IAAI,CAACC,SAAU;MAC1BU,QAAQ,EAAEA,CAAA,KAAMf,cAAc,CAACgB,MAAM,CAACZ,IAAI,CAACS,GAAG,CAAE;MAChDI,QAAQ,EAAEA,CAAA,KAAMd,cAAc,CAACa,MAAM,CAACZ,IAAI;IAAE,GALvCA,IAAI,CAACS,GAAG;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAMd,CACF;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAAChB,EAAA,CAtCID,QAAkB;EAAA,QACFP,cAAc,EAGaF,QAAQ,EAGhCC,WAAW,EAKXA,WAAW;AAAA;AAAAiC,EAAA,GAZ9BzB,QAAkB;AAwCxB,eAAeA,QAAQ;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}